<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=marathon, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 제1회 DW 마라톤 참가자 리스트
      /*
        no : 마라톤 등번호
        participant : 참가자
        isComplete : 마라톤 완주 여부 (true : 완주, false: 미완주)  
        type : 마라톤 코스
        records : 완주 기록
       */
      const marathonList = [
        {
          no: 300,
          participant: '현상원',
          isComplete: false,
          type: 'half marathon',
          records: 'null',
        },
        {
          no: 400,
          participant: '류근환',
          isComplete: true,
          type: 'half marathon',
          records: '2022-04-01 13:35:00',
        },
        {
          no: 410,
          participant: '강인석',
          isComplete: true,
          type: 'half marathon',
          records: '2022-04-01 13:37:20',
        },
        {
          no: 500,
          participant: '유영준',
          isComplete: true,
          type: 'half marathon',
          records: '2022-04-01 13:40:15',
        },
        {
          no: 201,
          participant: '이승섭',
          isComplete: true,
          type: 'half marathon',
          records: '2022-04-01 13:31:45',
        },
        {
          no: 555,
          participant: '홍준호',
          isComplete: false,
          type: 'half marathon',
          records: 'null',
        },
        {
          no: 777,
          participant: '이정배',
          isComplete: true,
          type: 'half marathon',
          records: 'null',
        },
      ];

      var len = marathonList.length;
      var count = 0;

      //1. half marathon에 참여한 참가자는 총 몇 명인지 구하고 출력하시오.
      console.log("half marathon에 참가한 참여자는 총 " + len +"명 입니다.")
      console.log("===========================================================")

      //2. 완주하지 못한 참가자의 이름과 등번호를 출력하시오.
      for(var i=0; i<len; i++){
        // console.log(marathonList[i])
        if(marathonList[i].isComplete == 0){
          console.log("완주하지 못한 참가자 >> 이름 : "+marathonList[i].participant+"등번호 : "+ marathonList[i].no)
        }
      }

      console.log("===========================================================")
      //3. 완주는 했는데 기록이 없는 참가자의 이름과 등번호를 출력하시오.
      for(var i=0; i<len; i++){
        if(marathonList[i].records == 'null'){
          console.log("완주했지만 기록이 없는 참가자 >>" + marathonList[i].participant + marathonList[i].no)
        }
      }
      console.log("===========================================================")
      //4. 완주한 사람 중 가장 기록이 좋은 참가자의 이름과 등번호를 출력하시오.
      //(마라톤 시작 시간은 '2022-04-01 13:00:00' 입니다.)
      //완주시각 - 시작시각
      var start =  '2022-04-01 13:00:00';
      var start = new Date(start);
      //시작시간 선언

      // var start =  '2022-04-01 13:00:00';
      // var start = new Date(start);

      //↓
      var start = new Date('2022-04-01 13:00:00').getTime();
      //시작시간 선언
      var min = 0;
      var cnt = 0;
      for(var i=0; i<len; i++){
        if(marathonList[i].records != 'null'){
          var finish = new Date(marathonList[i].records).getTime();
          var diffTime = start - finish;

          if(cnt === 0){
            min = diffTime;
          } ++cnt;
          if(min > diffTime){
            min = finish;
            temp = i;
          }
          
        }
        
        
      }
      console.log(marathonList[temp])
      

      // 5. 완주한 사람들의 평균 기록을 구하고 출력하시오.
      //   (단, 기록이 null인 사람은 제외)

      
      /*
        


        
        
        5. 완주한 사람들의 평균 기록을 구하고 출력하시오.
        (단, 기록이 null인 사람은 제외)
      */
    </script>
  </body>
</html>
